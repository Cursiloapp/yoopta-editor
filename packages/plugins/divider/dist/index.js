import{generateId as e,buildBlockData as t,Blocks as o,Elements as i,UI as r,useYooptaEditor as d,useBlockData as n,YooptaPlugin as a}from"@yoopta/editor";import{jsxs as s,jsx as l}from"react/jsx-runtime";import*as c from"react";const p={buildDividerElements:(t,o={})=>({id:e(),type:"divider",children:[{text:""}],props:{color:o.color||"#EFEFEE",theme:o.theme||"solid",nodeType:"void"}}),insertDivider:(e,i={})=>{const{at:r,focus:d}=i,n=p.buildDividerElements(e),a=t({value:[n],type:"Divider"});o.insertBlock(e,a.type,{at:r,focus:d,blockData:a})},deleteDivider:(e,t)=>{o.deleteBlock(e,{blockId:t})},updateDivider:(e,t,o)=>{i.updateElement(e,t,{type:"divider",props:Object.assign({},o)})}},h=["solid","dashed","dotted","gradient"];function v(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(o[i[r]]=e[i[r]])}return o}var y;function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},m.apply(this,arguments)}"function"==typeof SuppressedError&&SuppressedError;var u,b=function(e){return c.createElement("svg",m({width:15,height:15,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),y||(y=c.createElement("path",{d:"M1.25 7.5a.5.5 0 0 1 .5-.5h11.5a.5.5 0 0 1 0 1H1.75a.5.5 0 0 1-.5-.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})))};function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},g.apply(this,arguments)}var f,w=function(e){return c.createElement("svg",g({width:15,height:15,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u||(u=c.createElement("path",{d:"M3.625 7.5a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0Zm5 0a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0ZM12.5 8.625a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})))};function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},x.apply(this,arguments)}var E,O=function(e){return c.createElement("svg",x({width:15,height:15,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),f||(f=c.createElement("path",{d:"M0 7.5A.5.5 0 0 1 .5 7H3a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5Zm5.75 0a.5.5 0 0 1 .5-.5h2.5a.5.5 0 0 1 0 1h-2.5a.5.5 0 0 1-.5-.5ZM12 7a.5.5 0 0 0 0 1h2.5a.5.5 0 0 0 0-1H12Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})))};function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},k.apply(this,arguments)}var j=function(e){return c.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",className:"checkmark_svg__lucide checkmark_svg__lucide-check"},e),E||(E=c.createElement("path",{d:"M20 6 9 17l-5-5"})))};const{ExtendedBlockActions:N,BlockOptionsMenuGroup:C,BlockOptionsMenuItem:D,BlockOptionsSeparator:F}=r,$=({editor:e,block:t,props:o})=>{const r=o=>{i.updateElement(e,t.id,{type:"divider",props:{theme:o}})},d=e=>(null==o?void 0:o.theme)===e;return s(N,Object.assign({onClick:()=>e.setPath({current:t.meta.order}),className:"yoopta-divider-options"},{children:[l(F,{}),s(C,{children:[l(D,{children:s("button",Object.assign({type:"button",className:"yoopta-block-options-button yoo-divider-justify-between",onClick:()=>r("solid")},{children:[s("span",Object.assign({className:"yoo-divider-flex"},{children:[l(b,{width:16,height:16,className:"yoo-divider-w-4 yoo-divider-h-4 yoo-divider-mr-2"}),"Line"]})),d("solid")&&l(j,{width:16,height:16,color:"#000",className:"yoo-divider-w-4 yoo-divider-h-4"})]}))}),l(D,{children:s("button",Object.assign({type:"button",className:"yoopta-block-options-button yoo-divider-justify-between",onClick:()=>r("dashed")},{children:[s("span",Object.assign({className:"yoo-divider-flex"},{children:[l(O,{width:16,height:16,color:"tranparent",className:"yoo-divider-w-4 yoo-divider-h-4 yoo-divider-mr-2"}),"Dashed"]})),d("dashed")&&l(j,{width:16,height:16,color:"#000",className:"yoo-divider-w-4 yoo-divider-h-4"})]}))}),l(D,{children:s("button",Object.assign({type:"button",className:"yoopta-block-options-button yoo-divider-justify-between",onClick:()=>r("dotted")},{children:[s("span",Object.assign({className:"yoo-divider-flex"},{children:[l(w,{width:16,height:16,className:"yoo-divider-w-4 yoo-divider-h-4 yoo-divider-mr-2"}),"Dots"]})),d("dotted")&&l(j,{width:16,height:16,color:"#000",className:"yoo-divider-w-4 yoo-divider-h-4"})]}))}),l(D,{children:s("button",Object.assign({type:"button",className:"yoopta-block-options-button yoo-divider-justify-between",onClick:()=>r("gradient")},{children:[s("span",Object.assign({className:"yoo-divider-flex"},{children:[l(b,{width:14,height:16,className:"yoo-divider-w-4 yoo-divider-h-4 yoo-divider-mr-2",color:(null==o?void 0:o.color)||"#EFEFEE"}),"Gradient"]})),d("gradient")&&l(j,{width:16,height:16,color:"#000",className:"yoo-divider-w-4 yoo-divider-h-4"})]}))})]})]}))},B=new a({type:"Divider",elements:{divider:{render:e=>{var t,o,{extendRender:i}=e,r=v(e,["extendRender"]);const a=r.HTMLAttributes||{},{className:c=""}=a,p=v(a,["className"]),h=d(),y=n(r.blockId);if(i)return i(r);const m=(null===(t=r.element.props)||void 0===t?void 0:t.color)||"#e5e7eb",u=(null===(o=r.element.props)||void 0===o?void 0:o.theme)||"solid";return s("div",Object.assign({onClick:e=>{h.setPath({current:y.meta.order,selected:[y.meta.order]})}},p,{className:`${c} yoopta-divider`},r.attributes,{contentEditable:!1},{children:[!h.readOnly&&l($,{block:y,editor:h,props:r.element.props}),(()=>{switch(u){case"dashed":return l("hr",{className:"yoopta-divider-dashed",style:{borderColor:m}});case"dotted":return s("div",Object.assign({className:"yoopta-divider-dotted"},{children:[l("div",{style:{backgroundColor:m}}),l("div",{style:{backgroundColor:m}}),l("div",{style:{backgroundColor:m}})]}));case"gradient":return l("div",{className:"yoopta-divider-gradient",style:{background:`linear-gradient(to right, transparent, ${m}, transparent)`}});default:return l("hr",{className:"yoopta-divider-solid",style:{borderColor:m}})}})(),r.children]}))},props:{nodeType:"void",theme:"solid",color:"#EFEFEE"}}},options:{display:{title:"Divider",description:"Divide your blocks"},shortcuts:["---","divider","line"]},parsers:{html:{deserialize:{nodeNames:["HR"],parse:t=>{const o=t.getAttribute("data-meta-theme")||"solid",i=t.getAttribute("data-meta-color")||"#EFEFEE";return{id:e(),type:"divider",props:{nodeType:"void",theme:o,color:i},children:[{text:""}]}}},serialize:(e,t,o)=>{const{theme:i="solid",color:r="#EFEFEE"}=e.props||{};return`<hr data-meta-theme="${i}" data-meta-color="${r}" style="background-color: #8383e0; height: 1.2px" />`}},markdown:{serialize:(e,t)=>"---\n"},email:{serialize:(e,t,o)=>{const{theme:i="solid",color:r="#EFEFEE"}=e.props||{};let d=`<hr data-meta-theme="${i}" data-meta-color="${r}" style="border-color: ${r}; background-color: ${r}; height: 1.2px;" />`;return"gradient"===i&&(d=`<hr data-meta-theme="${i}" data-meta-color="${r}" style="background: linear-gradient(to right, transparent, ${r}, transparent); height: 2px; width: 100%;" />`),`\n        <table style="width: 100%;">\n          <tbody style="width: 100%;">\n            <tr>\n              <td>${d}</td>\n            </tr>\n          </tbody>\n        </table>`}}},commands:p,events:{onKeyDown:function(e,t,{hotkeys:o,currentBlock:r}){return t=>{if(o.isCmdShiftD(t)){t.preventDefault();const o=i.getElement(e,r.id,{type:"divider"}),d=h[(h.indexOf(o.props.theme)+1)%h.length];i.updateElement(e,r.id,{type:"divider",props:{theme:d}})}}}}});!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===o&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".yoo-divider-mr-2{margin-right:.5rem}.yoo-divider-flex{display:flex}.yoo-divider-h-4{height:1rem}.yoo-divider-w-4{width:1rem}.yoo-divider-justify-between{justify-content:space-between}.yoopta-divider .yoopta-divider-options{color:#000;opacity:0;right:3px;top:3px;transition:opacity .15s ease-in-out}.yoopta-divider:hover .yoopta-divider-options{opacity:1}.yoopta-divider{align-items:center;color:#e5e7eb;display:flex;height:20px;justify-content:center;pointer-events:auto;width:100%}.yoopta-divider-line{border-bottom:2px solid;height:1px;visibility:visible;width:100%}.yoopta-divider-solid{border-bottom:2px solid;border-bottom-style:solid;height:1px;visibility:visible;width:100%}.yoopta-divider-dashed{border-bottom:2px solid;border-bottom-style:dashed;height:1px;visibility:visible;width:100%}.yoopta-divider-dotted{align-items:center;border-bottom:2px solid;border-bottom:none;display:flex;height:3px;justify-content:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;visibility:visible;width:100%}.yoopta-divider-dotted div{border-radius:50%;margin-right:10px;max-height:3px;max-width:3px;min-height:3px;min-width:3px}.yoopta-divider-dotted div:last-child{margin-right:0}.yoopta-divider-gradient{height:2px;width:100%}");export{p as DividerCommands,B as default};
